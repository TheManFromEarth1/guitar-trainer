{"version":3,"sources":["constants.js","audioCore.js","components/Note/Note.js","components/Tuner/Tuner.js","components/Tuner/TunerContainer.js","actions/audio.js","components/Sidebar/SelectKeyContainer.js","components/Sidebar/SelectKey.js","components/Sidebar/SelectScaleContainer.js","components/Sidebar/SelectScale.js","components/Sidebar/StartRecording.js","components/Sidebar/Sidebar.js","containers/SidebarContainer.js","components/Note/NoteContainer.js","components/Guitar/Guitar.js","components/Piano/Piano.js","containers/MainContainer.js","components/Main.js","theme.js","components/Layout.js","components/App.js","containers/AppContainer.js","serviceWorker.js","reducers/audio.js","reducers/guitar.js","reducers/piano.js","reducers/root.js","store.js","index.js"],"names":["SCALES","ALL","Array","fill","MAJOR","HARMONIC_MAJOR","MELODIC_MAJOR","MAJOR_PENTATONIC","MINOR","HARMONIC_MINOR","MELODIC_MINOR","MINOR_PENTATONIC","SCALES_NAMES","Object","keys","reduce","res","key","ACTION_TYPES","NOTES","middleA","semitone","bufferSize","_initGetUserMedia","window","AudioContext","webkitAudioContext","alert","undefined","navigator","mediaDevices","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","Promise","resolve","reject","call","audio","then","stream","audioContext","createMediaStreamSource","connect","analyser","scriptProcessor","destination","addEventListener","event","frequency","pitchDetector","do","inputBuffer","getChannelData","note","getNote","noteData","name","value","cents","getCents","octave","Math","floor","indexOf","emit","catch","error","message","this","createAnalyser","createScriptProcessor","Aubio","aubio","Pitch","sampleRate","startRecord","log","round","pow","getStandardFrequency","oscillator","createOscillator","start","stop","EventEmitter","generateScale","scaleName","scaleKey","pattern","scale","i","length","nextNoteIndex","push","isSimilar","isActive","isInScale","isKey","classNames","toLowerCase","className","join","Arrow","state","playingNote","switchMic","payload","type","setPlayingNote","selectScale","selectScaleKey","selectedScale","dispatch","onSelect","f","options","map","MenuItem","FormControl","fullWidth","InputLabel","htmlFor","Select","inputProps","id","onChange","target","entries","StartRecording","Button","variant","color","onClick","aria-label","role","useStyles","makeStyles","theme","paper","padding","spacing","palette","text","secondary","Heading","children","Typography","gutterBottom","isMicActive","selectedScaleName","selectedScaleKey","actions","bindActionCreators","audioActions","classes","Paper","audioService","init","Grid","container","item","xs","includes","Note","String","Cell","Zero","frets","startNotes","strings","cells","startNote","startNoteIndex","fretsWithZero","j","newNoteIndex","Key","octaves","keysCount","noteIndex","guitarStringsStartNotes","pianoStartNote","createMuiTheme","root","display","drawer","breakpoints","up","width","flexShrink","menuButton","top","left","position","zIndex","toolbar","mixins","drawerPaper","background","content","flexGrow","minWidth","down","paddingLeft","paddingTop","Sidebar","Main","React","useState","mobileOpen","setMobileOpen","handleDrawerToggle","Fab","size","Hidden","mdUp","implementation","Drawer","anchor","open","onClose","ModalProps","keepMounted","smDown","App","on","notesData","data","setter","props","ThemeProvider","Layout","SidebarContainer","MainContainer","Component","Boolean","location","hostname","match","DEFAULT_DATA","DEFAULT_START_NOTES","DEFAULT_START_NOTE","combineReducers","action","newName","newKey","middlewares","logger","thunk","enhancer","applyMiddleware","createStore","reducers","render","ReactDOM","store","AppContainer","document","getElementById","subscribe","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a95503d0.chunk.js","sourcesContent":["export const SCALES = {\n  ALL: Array(12).fill(1),\n  MAJOR: [2, 2, 1, 2, 2, 2, 1],\n  HARMONIC_MAJOR: [2, 2, 1, 2, 1, 3, 1],\n  MELODIC_MAJOR: [2, 2, 1, 2, 1, 2, 2],\n  MAJOR_PENTATONIC: [2, 2, 3, 2, 3],\n  MINOR: [2, 1, 2, 2, 1, 2, 2],\n  HARMONIC_MINOR: [2, 1, 2, 2, 1, 3, 1],\n  MELODIC_MINOR: [2, 1, 2, 2, 2, 2, 1],\n  MINOR_PENTATONIC: [3, 2, 2, 3, 2],\n  // MIXOLYDIAN: [],\n  // LYDIAN: [],\n};\n\nexport const SCALES_NAMES = Object.keys(SCALES).reduce((res, key) => {\n  res[key] = key;\n  return res;\n}, {});\n\nexport const ACTION_TYPES = {\n  SET_PLAYING_NOTE: 'SET_PLAYING_NOTE',\n  SET_MIC_LISTEN: 'SET_MIC_LISTEN',\n\n  SET_GUITAR_STRING_START_NOTE: 'SET_GUITAR_STRING_START_NOTE',\n  SET_PIANO_START_NOTE: 'SET_PIANO_START_NOTE',\n\n  SET_SCALE: 'SET_SCALE',\n  SET_SCALE_KEY: 'SET_SCALE_KEY',\n};\n\n","import EventEmitter from 'wolfy87-eventemitter';\nimport { SCALES } from './constants';\n\nexport const NOTES = ['C', 'C♯', 'D', 'D♯', 'E', 'F', 'F♯', 'G', 'G♯', 'A', 'A♯', 'B'];\n\nclass AudioService extends EventEmitter {\n  middleA = 440;\n  semitone = 69;\n  bufferSize = 8192;\n\n  constructor() {\n    super();\n\n    this._initGetUserMedia();\n  }\n\n  _initGetUserMedia() {\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    if (!window.AudioContext) {\n      return alert('AudioContext not supported');\n    }\n\n    // Older browsers might not implement mediaDevices at all, so we set an empty object first\n    if (navigator.mediaDevices === undefined) {\n      navigator.mediaDevices = {};\n    }\n\n    // Some browsers partially implement mediaDevices. We can't just assign an object\n    // with getUserMedia as it would overwrite existing properties.\n    // Here, we will just add the getUserMedia property if it's missing.\n    if (navigator.mediaDevices.getUserMedia === undefined) {\n      navigator.mediaDevices.getUserMedia = function (constraints) {\n        // First get ahold of the legacy getUserMedia, if present\n        const getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n\n        // Some browsers just don't implement it - return a rejected promise with an error\n        // to keep a consistent interface\n        if (!getUserMedia) {\n          alert('getUserMedia is not implemented in this browser');\n        }\n\n        // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n        return new Promise(function (resolve, reject) {\n          getUserMedia.call(navigator, constraints, resolve, reject);\n        })\n      }\n    }\n  }\n\n  startRecord() {\n    navigator.mediaDevices\n      .getUserMedia({ audio: true })\n      .then(stream => {\n        this.audioContext.createMediaStreamSource(stream).connect(this.analyser);\n        this.analyser.connect(this.scriptProcessor);\n        this.scriptProcessor.connect(this.audioContext.destination);\n\n        this.scriptProcessor.addEventListener('audioprocess', event => {\n\n          const frequency = this.pitchDetector.do(event.inputBuffer.getChannelData(0));\n\n          if (frequency) {\n            const\n              note = this.getNote(frequency),\n              noteData = {\n                name: NOTES[note % 12],\n                value: note,\n                cents: this.getCents(frequency, note),\n                octave: Math.floor(note / 12) - 1,\n                frequency: frequency,\n              };\n\n            if (\n              noteData.octave < 2 ||\n              noteData.octave > 6 ||\n              (noteData.octave === 6 && NOTES.indexOf(noteData.name) > NOTES.indexOf('A'))\n            ) return;\n\n            if (note >= 30) {\n              this.emit('notesDetected', [noteData]);\n            }\n          }\n        });\n      })\n      .catch(function (error) {\n        alert(error.name + ': ' + error.message);\n      });\n  }\n\n  init() {\n    this.audioContext = new window.AudioContext();\n    this.analyser = this.audioContext.createAnalyser();\n    this.scriptProcessor = this.audioContext.createScriptProcessor(this.bufferSize);\n\n    window.Aubio().then(aubio => {\n      this.pitchDetector = new aubio.Pitch('default', this.bufferSize, 1, this.audioContext.sampleRate);\n      this.startRecord();\n    });\n  }\n\n  /**\n   * get musical note from frequency\n   *\n   * @param {number} frequency\n   * @returns {number}\n   */\n  getNote(frequency) {\n    const note = 12 * (Math.log(frequency / this.middleA) / Math.log(2));\n    return Math.round(note) + this.semitone;\n  }\n\n  /**\n   * get the musical note's standard frequency\n   *\n   * @param note\n   * @returns {number}\n   */\n  getStandardFrequency(note) {\n    return this.middleA * Math.pow(2, (note - this.semitone) / 12);\n  }\n\n  /**\n   * get cents difference between given frequency and musical note's standard frequency\n   *\n   * @param {number} frequency\n   * @param {number} note\n   * @returns {number}\n   */\n  getCents(frequency, note) {\n    return Math.floor((1200 * Math.log(frequency / this.getStandardFrequency(note))) / Math.log(2))\n  }\n\n  /**\n   * play the musical note\n   *\n   * @param {number} frequency\n   */\n  play(frequency) {\n    if (!this.oscillator) {\n      this.oscillator = this.audioContext.createOscillator();\n      this.oscillator.connect(this.audioContext.destination);\n      this.oscillator.start();\n    }\n\n    this.oscillator.frequency.value = frequency;\n  }\n\n  stop() {\n    this.oscillator.stop();\n    this.oscillator = null;\n  }\n}\n\nexport default new AudioService();\n\n\nexport const generateScale = (scaleName, scaleKey) => {\n  const pattern = SCALES[scaleName];\n\n  if (!pattern) return null;\n\n  const scale = [scaleKey];\n\n  for (let i = 1; i < pattern.length; i++) {\n    const nextNoteIndex = (NOTES.indexOf(scale[i - 1]) + pattern[i - 1]) % NOTES.length;\n    scale.push(NOTES[nextNoteIndex]);\n  }\n\n  return scale;\n};\n","import React from 'react';\nimport './Note.scss';\n\nexport default ({ name = 'C#', octave = 1, isSimilar = false, isActive = true, isInScale = true, isKey = false }) => {\n  const classNames = ['note', `note--${name[0].toLowerCase()}`];\n\n  if (isSimilar) {\n    classNames.push('is-similar');\n  }\n\n  if (isActive) {\n    classNames.push('is-active');\n  }\n\n  if (!isInScale) {\n    classNames.push('is-disabled');\n  }\n\n  if (isKey) {\n    classNames.push('is-key');\n  }\n\n  return (\n    <div className={classNames.join(' ')}>{name}{octave}</div>\n  )\n};\n","import React from 'react';\nimport './Tuner.scss';\nimport Note from '../Note/Note'\n\nconst REASONABLE_DELTA = 10;\n\nconst Arrow = ({ isActive }) => {\n  const classNames = ['tuner__arrow'];\n\n  if (isActive) {\n    classNames.push('is-active');\n  }\n\n  return (\n    <div className={classNames.join(' ')}/>\n  )\n};\n\nexport default ({ playingNote }) => {\n  return (\n    <div className='tuner'>\n      <div className=\"tuner__col\">\n        <Arrow isActive={playingNote.cents < -REASONABLE_DELTA}/>\n      </div>\n      <div className=\"tuner__col tuner__note\">\n        <Note\n          isActive={playingNote.cents >= -REASONABLE_DELTA && playingNote.cents <= REASONABLE_DELTA}\n          name={playingNote.name} note={playingNote}\n          octave={playingNote.octave}\n        />\n      </div>\n      <div className=\"tuner__col\">\n        <Arrow isActive={playingNote.cents > REASONABLE_DELTA}/>\n      </div>\n    </div>\n  )\n};\n","import { connect } from 'react-redux';\nimport Tuner from './Tuner';\n\nconst mapStateToProps = state => {\n  const {\n    playingNote,\n  } = state;\n\n  return {\n    playingNote,\n  }\n};\n\n\nexport default connect(mapStateToProps)(Tuner);\n","import { ACTION_TYPES } from '../constants';\n\nexport const switchMic = payload => ({\n  type: ACTION_TYPES.SET_MIC_LISTEN,\n  payload,\n});\n\nexport const setPlayingNote = payload => ({\n  type: ACTION_TYPES.SET_PLAYING_NOTE,\n  payload,\n});\n\nexport const selectScale = payload => ({\n  type: ACTION_TYPES.SET_SCALE,\n  payload,\n});\n\nexport const selectScaleKey = payload => ({\n  type: ACTION_TYPES.SET_SCALE_KEY,\n  payload,\n});\n","import { connect } from 'react-redux';\nimport SelectKey from './SelectKey';\nimport { selectScaleKey } from '../../actions/audio';\n\nconst mapStateToProps = ({ selectedScale }) => ({ selectedScale });\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSelect: payload => dispatch(selectScaleKey(payload)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectKey);\n","import { NOTES } from '../../audioCore';\nimport { FormControl, InputLabel, MenuItem, Select } from '@material-ui/core';\nimport React from 'react';\n\nexport default ({ selectedScale, onSelect = f => f }) => {\n  const\n    options = NOTES.map(note => <MenuItem key={note} value={note}>{note}</MenuItem>),\n    handleChange = event => onSelect(event.target.value);\n\n  return (\n    <FormControl fullWidth>\n      <InputLabel htmlFor=\"sidebar-select-scale-key\">\n        Scale Key\n      </InputLabel>\n      <Select\n        value={selectedScale.key}\n        inputProps={{\n          id: 'sidebar-select-scale-key',\n        }}\n        onChange={handleChange}\n      >\n        {options}\n      </Select>\n    </FormControl>\n  )\n};\n","import { connect } from 'react-redux';\nimport SelectScale from './SelectScale';\nimport { selectScale } from '../../actions/audio';\n\nconst mapStateToProps = ({ selectedScale }) => ({ selectedScale });\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSelect: payload => dispatch(selectScale(payload)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectScale);\n","import { SCALES_NAMES } from '../../constants';\nimport { FormControl, InputLabel, MenuItem, Select } from '@material-ui/core';\nimport React from 'react';\n\nexport default ({ selectedScale, onSelect = f => f }) => {\n  const\n    options = Object.entries(SCALES_NAMES).map(([key, name]) => <MenuItem key={key} value={key}>{name}</MenuItem>),\n    handleChange = event => onSelect(event.target.value);\n\n  return (\n    <FormControl fullWidth>\n      <InputLabel htmlFor=\"sidebar-select-scale\">\n        Scale\n      </InputLabel>\n      <Select\n        value={selectedScale.name}\n        inputProps={{\n          id: 'sidebar-select-scale',\n        }}\n        onChange={handleChange}\n      >\n        {options}\n      </Select>\n    </FormControl>\n  );\n};\n","import { Button } from '@material-ui/core';\nimport React from 'react';\n\nexport const StartRecording = ({ start = f => f }) => (\n  <Button fullWidth variant='contained' color='secondary' onClick={start}>\n    <span aria-label='microphone' role='img'>🎤</span>\n    Enable Recording\n  </Button>\n);\n","import React from 'react';\nimport Tuner from '../Tuner/TunerContainer';\nimport './Sidebar.scss';\nimport audioService from '../../audioCore';\nimport { Grid, makeStyles, Paper, Typography } from '@material-ui/core';\nimport SelectKey from './SelectKeyContainer';\nimport SelectScale from './SelectScaleContainer';\nimport { StartRecording } from './StartRecording';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst Heading = ({ children }) => (\n  <Typography variant=\"h6\" gutterBottom>\n    {children}\n  </Typography>\n);\n\nexport default ({ actions, isMicActive }) => {\n  const\n    { switchMic = f => f } = actions,\n    initAudio = () => {\n      switchMic(true);\n      audioService.init();\n    },\n    classes = useStyles();\n\n  return (\n    <div className='sidebar'>\n      <div className=\"sidebar__in\">\n\n        <div className=\"sidebar__item\">\n          <Paper className={classes.paper}>\n            <Heading>\n              Mini Tuner\n            </Heading>\n            {!isMicActive ? (\n              <StartRecording start={initAudio}/>\n            ) : (\n              <Tuner/>\n            )}\n          </Paper>\n        </div>\n\n        <div className=\"sidebar__item\">\n          <Paper className={classes.paper}>\n            <Heading>\n              Scale Settings\n            </Heading>\n\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <SelectKey/>\n              </Grid>\n              <Grid item xs={12}>\n                <SelectScale/>\n              </Grid>\n            </Grid>\n          </Paper>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { connect } from 'react-redux';\n\nimport Sidebar from '../components/Sidebar/Sidebar';\nimport * as audioActions from '../actions/audio';\nimport { bindActionCreators } from 'redux';\n\nconst mapStateToProps = state => {\n  const {\n    playingNote,\n    isMicActive,\n    selectedScaleName,\n    selectedScaleKey,\n  } = state;\n\n  return {\n    playingNote,\n    isMicActive,\n    selectedScaleName,\n    selectedScaleKey\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators({ ...audioActions }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import { connect } from 'react-redux';\nimport Note from './Note';\n\nconst mapStateToProps = ({ playingNote, selectedScale, isMicActive }, { name, octave }) => {\n  const\n    isSimilar = isMicActive && playingNote && playingNote.name === name,\n    isActive = isSimilar && playingNote.octave === octave,\n    isInScale = selectedScale.scale.includes(name),\n    isKey = selectedScale.key === name;\n\n  return { isSimilar, isActive, isInScale, isKey };\n};\n\n\nexport default connect(mapStateToProps)(Note);\n","import React from 'react';\nimport './Guitar.scss';\nimport Note from '../Note/NoteContainer';\nimport { NOTES } from '../../audioCore';\n\nconst String = ({ children }) => <div className='guitar__string'>{children}</div>;\n\nconst Cell = ({ note }) => (\n  <div className='guitar__cell'>\n    <div className=\"guitar__note\">\n      <Note {...note}/>\n    </div>\n  </div>\n);\n\nconst Zero = ({ note }) => (\n  <div className=\"guitar__zero\">\n    <div className=\"guitar__note\">\n      <Note {...note}/>\n    </div>\n  </div>\n);\n\nexport default ({ frets, startNotes }) => {\n  const strings = [];\n\n  for (let i = 0; i < 6; i++) {\n    const\n      cells = [],\n      startNote = startNotes[i],\n      startNoteIndex = NOTES.indexOf(startNote.name),\n      fretsWithZero = frets + 1;\n\n    let octave = startNote.octave;\n\n    for (let j = 0; j < fretsWithZero; j++) {\n      const newNoteIndex = (j + startNoteIndex) % NOTES.length;\n\n      const\n        note = {\n          name: NOTES[newNoteIndex],\n          octave: newNoteIndex === 0 ? ++octave : octave,\n        };\n\n      if (j === 0) {\n        cells.push(<Zero note={note} key={j}/>);\n      } else {\n        cells.push(<Cell note={note} key={j}/>);\n      }\n    }\n\n    strings.push(<String key={i}>{cells}</String>);\n  }\n\n  return (\n    <div className=\"guitar\">\n      {strings}\n    </div>\n  )\n}\n","import React from 'react';\nimport './Piano.scss';\nimport { NOTES } from '../../audioCore';\nimport Note from '../Note/NoteContainer';\n\nconst Key = ({ name = 'C#', octave = 2 }) => {\n  const note = {\n    name,\n    octave,\n  };\n\n  return (\n    <div className=\"piano__key\">\n      <div className=\"piano__note\">\n        <Note {...note}/>\n      </div>\n    </div>\n  )\n};\n\nexport default ({ octaves = 3, startNote }) => {\n  const\n    keys = [],\n    keysCount = 12 * octaves;\n\n  for (let i = 0, note = { ...startNote }; i < keysCount; i++) {\n    const noteIndex = NOTES.indexOf(note.name);\n\n    keys.push(<Key key={i} name={note.name} octave={note.octave}/>);\n\n    if (!~noteIndex) continue;\n\n    const newNoteIndex = (noteIndex + 1) % NOTES.length;\n\n    if (newNoteIndex === 0) note.octave++;\n    note.name = NOTES[newNoteIndex];\n  }\n\n  return <div className=\"piano\">{keys}</div>;\n};\n","import { connect } from 'react-redux';\nimport Main from '../components/Main';\nconst mapStateToProps = ({ guitarStringsStartNotes, pianoStartNote }) => ({ guitarStringsStartNotes, pianoStartNote });\n\nexport default connect(mapStateToProps)(Main);\n","import Guitar from './Guitar/Guitar';\nimport Piano from './Piano/Piano';\nimport React from 'react';\n\nexport default ({ guitarStringsStartNotes, pianoStartNote }) => (\n  <div className=\"application__main\">\n    <div className=\"board-container\">\n      <Guitar frets={18} startNotes={guitarStringsStartNotes}/>\n    </div>\n    <div className=\"board-container\">\n      <Piano octaves={4} startNote={pianoStartNote}/>\n    </div>\n  </div>\n);\n","import { createMuiTheme } from '@material-ui/core/styles';\n\n/**\n * @material-ui theme definitions\n */\n\nexport default createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n});\n","import React from 'react';\nimport { Drawer, Fab, Hidden, makeStyles } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Settings';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('md')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n\n  menuButton: {\n    top: theme.spacing(3),\n    left: theme.spacing(3),\n    position: 'fixed',\n    zIndex: 10,\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    background: '#212121',\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    minWidth: 1200,\n    [theme.breakpoints.down('md')]: {\n      paddingLeft: theme.spacing(6),\n      paddingTop: theme.spacing(6),\n    },\n  },\n}));\n\nexport default ({ Sidebar, Main }) => {\n  const\n    classes = useStyles(),\n    [mobileOpen, setMobileOpen] = React.useState(false),\n    handleDrawerToggle = () => {\n      setMobileOpen(!mobileOpen);\n    },\n    drawer = (\n      <Sidebar/>\n    );\n\n  return (\n    <div className={classes.root}>\n\n      <div className={classes.menuButton}>\n        <Fab size='small' position='fixed' color='secondary' onClick={handleDrawerToggle} aria-label='edit'>\n          <MenuIcon/>\n        </Fab>\n      </div>\n\n      <nav className={classes.drawer}>\n        <Hidden mdUp implementation='css'>\n          <Drawer\n            variant='temporary'\n            anchor='left'\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true,\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden smDown implementation='css'>\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant='permanent'\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <main className={classes.content}>\n        <Main/>\n      </main>\n    </div>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport audioService from '../audioCore';\nimport SidebarContainer from '../containers/SidebarContainer';\nimport MainContainer from '../containers/MainContainer';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from '../theme';\nimport Layout from './Layout';\n\nexport default class App extends React.Component {\n  componentDidMount() {\n    audioService.on('notesDetected', (notesData = []) => {\n      const\n        [data] = notesData,\n        setter = this.props.setPlayingNote;\n\n      typeof setter === 'function' && setter(data);\n    });\n  }\n\n  render() {\n    return (\n      <div className='application'>\n        <ThemeProvider theme={theme}>\n          <Layout\n            Sidebar={SidebarContainer}\n            Main={MainContainer}\n          />\n        </ThemeProvider>\n      </div>\n    );\n  }\n}\n","import { connect } from 'react-redux';\n\nimport App from '../components/App';\nimport { setPlayingNote } from '../actions/audio';\n\nconst mapDispatchToProps = (dispatch) => ({\n  setPlayingNote: payload => dispatch(setPlayingNote(payload)),\n});\n\nexport default connect(null, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { ACTION_TYPES, SCALES_NAMES } from '../constants';\nimport { generateScale, NOTES } from '../audioCore';\n\nconst DEFAULT_DATA = {\n  playingNote: {\n    name: 'C', octave: 3, cents: 0\n  },\n  isMicActive: false,\n\n  scale: {\n    name: SCALES_NAMES.MAJOR,\n    key: NOTES[0],\n  },\n};\n\nDEFAULT_DATA.scale.scale = generateScale(DEFAULT_DATA.scale.name, DEFAULT_DATA.scale.key);\n\nexport const playingNote = (state = DEFAULT_DATA.playingNote, action) => {\n  if (action.type === ACTION_TYPES.SET_PLAYING_NOTE) {\n    return action.payload;\n  }\n\n  return state;\n};\n\nexport const isMicActive = (state = DEFAULT_DATA.isMicActive, action) => {\n  if (action.type === ACTION_TYPES.SET_MIC_LISTEN) {\n    return action.payload;\n  }\n\n  return state;\n};\n\nexport const selectedScale = (state = { ...DEFAULT_DATA.scale }, action) => {\n  switch (action.type) {\n\n    case ACTION_TYPES.SET_SCALE: {\n      const\n        { key } = state,\n        newName = action.payload;\n\n      return {\n        key,\n        name: newName,\n        scale: generateScale(newName, key)\n      };\n    }\n\n    case ACTION_TYPES.SET_SCALE_KEY: {\n      const\n        { name } = state,\n        newKey = action.payload;\n\n      return {\n        key: newKey,\n        name,\n        scale: generateScale(name, newKey)\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n","const DEFAULT_START_NOTES = [\n  { name: 'E', octave: 4 },\n  { name: 'B', octave: 3 },\n  { name: 'G', octave: 3 },\n  { name: 'D', octave: 3 },\n  { name: 'A', octave: 2 },\n  { name: 'E', octave: 2 },\n];\n\nexport const guitarStringsStartNotes = (state = DEFAULT_START_NOTES, action) => {\n  return state;\n};\n","const DEFAULT_START_NOTE = { name: 'C', octave: 2 };\n\nexport const pianoStartNote = (state = DEFAULT_START_NOTE, action) => {\n  return state;\n};\n","import { combineReducers } from 'redux';\nimport { isMicActive, playingNote, selectedScale } from './audio';\nimport { guitarStringsStartNotes } from './guitar';\nimport { pianoStartNote } from './piano';\n\nexport default combineReducers({\n  playingNote,\n  isMicActive,\n  guitarStringsStartNotes,\n  pianoStartNote,\n  selectedScale,\n});\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reducers from './reducers/root';\n\nconst\n  middlewares = [logger, thunk],\n  isDevMode = process.env.NODE_ENV === 'development';\n\nif (isDevMode) {\n  middlewares.push(logger);\n}\n\nlet enhancer = applyMiddleware(...middlewares);\n\nif (isDevMode) {\n  enhancer = composeWithDevTools(enhancer);\n}\n\nexport default enhancer(createStore)(reducers);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport AppContainer from './containers/AppContainer';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <AppContainer/>\n    </Provider>,\n    document.getElementById('root'));\n};\n\nstore.subscribe(render);\nrender();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}